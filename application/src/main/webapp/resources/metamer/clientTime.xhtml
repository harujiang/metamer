<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:composite="http://java.sun.com/jsf/composite" xmlns:a4j="http://richfaces.org/a4j">

    <h:body>
        <composite:interface>
            <composite:attribute name="label" type="java.lang.String" required="true" />
            <composite:attribute name="name" type="java.lang.String" default="metamerOutputTime" />
        </composite:interface>

        <composite:implementation>
            <h:outputLabel value="#{cc.attrs.label}" for="#{cc.attrs.name}" />
            <h:outputText styleClass="metamerOutputTime" id="#{cc.attrs.name}" value="" title="" />
            <h:outputScript library="script" name="date-format.js" />
           	<script type="text/javascript">
           	//<![CDATA[
                function #{cc.attrs.name}Refresh() {
                   	var now = new Date();
                   	jQuery("span.metamerOutputTime[id$=#{cc.attrs.name}]")
              			.text(now.format("dd.mm.yyyy HH:MM:ss.l", false))
              			.attr("title", now.getTime());
                }
                #{cc.attrs.name}Refresh();
           	//]]>
           	</script>
        </composite:implementation>
    </h:body>
</html>
